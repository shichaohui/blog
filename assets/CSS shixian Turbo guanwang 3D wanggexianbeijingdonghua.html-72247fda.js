import{_ as p,p as e,q as c,s,R as n,t,Y as o,n as i}from"./framework-a25df3d5.js";const l={},u={href:"https://shichaohui.github.io/",target:"_blank",rel:"noopener noreferrer"},r={href:"https://turbo.build/",target:"_blank",rel:"noopener noreferrer"},d={href:"https://code.juejin.cn/pen/7252604713613393977",target:"_blank",rel:"noopener noreferrer"},k=o(`<p>简单说明原理：使用 <code>mask-image</code> 遮罩绘制网格，使用 <code>perspective</code> 及 <code>rotate</code> 动画设置 3D 纵深效果，并添加位移动画即可。</p><h2 id="dom-结构" tabindex="-1"><a class="header-anchor" href="#dom-结构" aria-hidden="true">#</a> DOM 结构</h2><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lines<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.container</code> 容器用来做 3D 变换。</li><li><code>.lines</code> 用来绘制网格线并执行动画。</li></ul><h2 id="绘制网格线" tabindex="-1"><a class="header-anchor" href="#绘制网格线" aria-hidden="true">#</a> 绘制网格线</h2><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.lines</span> <span class="token punctuation">{</span>
  ...<span class="token punctuation">,</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--left-line-color<span class="token punctuation">)</span> 45%<span class="token punctuation">,</span> transparent 50%<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--right-line-color<span class="token punctuation">)</span> 55%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #000 2px<span class="token punctuation">,</span> transparent 0<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span> #000 2px<span class="token punctuation">,</span> transparent 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">mask-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> #000 2px<span class="token punctuation">,</span> transparent 0<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span> #000 2px<span class="token punctuation">,</span> transparent 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-mask-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">mask-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>background-image</code> 绘制一个从左向右渐变的背景。</li><li><code>mask-image</code> 绘制水平和垂直的线条做遮罩。</li><li><code>mask-size</code> 设置单个遮罩的尺寸，即网格尺寸。</li></ul><h2 id="_3d-变换" tabindex="-1"><a class="header-anchor" href="#_3d-变换" aria-hidden="true">#</a> 3D 变换</h2><p>配置 3D 变换使网格拥有从远处延伸到近前的效果。</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.container</span> <span class="token punctuation">{</span>
  ...<span class="token punctuation">,</span>
  <span class="token property">perspective</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lines</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>75deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加动画" tabindex="-1"><a class="header-anchor" href="#添加动画" aria-hidden="true">#</a> 添加动画</h2><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@keyframes</span> move</span> <span class="token punctuation">{</span>
  <span class="token selector">from</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>75deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">to</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>75deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.lines</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>75deg<span class="token punctuation">)</span> <span class="token function">translateY</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> move 1s linear infinite<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置动画 Y 轴移动一个网格的长度，并无限循环。</p><h2 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h2><p>设置顶部和底部遮罩，遮挡住顶部杂乱的线条，并使底部拥有淡出的效果。</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.container::before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span>  <span class="token function">var</span><span class="token punctuation">(</span>--bg-color<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span> transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.container::after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span><span class="token punctuation">)</span> 0 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--grid-size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span> transparent<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16);function v(m,g){const a=i("ExternalLinkIcon");return e(),c("div",null,[s("blockquote",null,[s("p",null,[s("small",null,[n("转载请注明出处，"),s("a",u,[n("点击此处"),t(a)]),n(" 查看更多精彩内容")])])]),s("p",null,[n("查看 "),s("a",r,[n("Turbo 官网"),t(a)]),n(" 时发现它的背景动画挺有意思，就自己动手实现了一下。下面对关键点进行解释说明，查看完整代码及预览效果请 "),s("a",d,[n("点击这里"),t(a)]),n("。")]),k])}const h=p(l,[["render",v],["__file","CSS shixian Turbo guanwang 3D wanggexianbeijingdonghua.html.vue"]]);export{h as default};
