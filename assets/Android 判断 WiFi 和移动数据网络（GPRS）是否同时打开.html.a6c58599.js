import{_ as n,o as s,c as a,a as t}from"./app.7761d003.js";const e={},p=t(`<h2 id="\u5224\u65AD-wifi-\u662F\u5426\u6253\u5F00" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD-wifi-\u662F\u5426\u6253\u5F00" aria-hidden="true">#</a> \u5224\u65AD WiFi \u662F\u5426\u6253\u5F00</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isWiFiEnable</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConnectivityManager</span> connectivityManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConnectivityManager</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">CONNECTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connectivityManager <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NetworkInfo</span> info <span class="token operator">=</span> connectivityManager<span class="token punctuation">.</span><span class="token function">getActiveNetworkInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">(</span>info <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>info<span class="token punctuation">.</span><span class="token function">isAvailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">ConnectivityManager</span><span class="token punctuation">.</span><span class="token constant">TYPE_WIFI</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5224\u65AD-gprs-\u662F\u5426\u6253\u5F00" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD-gprs-\u662F\u5426\u6253\u5F00" aria-hidden="true">#</a> \u5224\u65AD GPRS \u662F\u5426\u6253\u5F00</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isMobileEnable</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConnectivityManager</span> connectivityManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConnectivityManager</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">CONNECTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connectivityManager <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NetworkInfo</span> info <span class="token operator">=</span> connectivityManager<span class="token punctuation">.</span><span class="token function">getActiveNetworkInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">(</span>info <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>info<span class="token punctuation">.</span><span class="token function">isAvailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> info<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">ConnectivityManager</span><span class="token punctuation">.</span><span class="token constant">TYPE_MOBILE</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5224\u65AD-wifi-\u4E0E-gprs-\u540C\u5F00-1" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD-wifi-\u4E0E-gprs-\u540C\u5F00-1" aria-hidden="true">#</a> \u5224\u65AD WiFi \u4E0E GPRS \u540C\u5F00\uFF081\uFF09</h2><p><strong>\u5C1D\u8BD5\uFF1A</strong> \u4F7F\u7528 <code>isWifiEnable()</code> \u548C <code>isMobileEnable()</code> \u8054\u5408\u5224\u65AD\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isAllEnable</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">isWiFiEnable</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isMobileEnable</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7ED3\u679C\uFF1A</strong> \u6B64\u65B9\u5F0F\u65E0\u6CD5\u5224\u65AD <code>WiFi</code> \u4E0E <code>GPRS</code> \u540C\u5F00\u3002</p><p>\u5728 <code>WiFi</code> \u548C <code>GPRS</code> \u540C\u65F6\u6253\u5F00\u65F6\u7CFB\u7EDF\u9ED8\u8BA4\u4F7F\u7528 <code>WiFi</code> \u7F51\u7EDC\uFF0C\u5373<code>networkInfo.getType()</code> \u7684\u8FD4\u56DE\u503C\u662F <code>TYPE_WIFI</code>\uFF0C\u6240\u4EE5<code>isMobileEnable()</code>\u7684\u7ED3\u679C\u4E00\u5B9A\u662F<code>false</code>\u5BFC\u81F4\u5224\u65AD\u5931\u8D25\u3002</p><p>\u65E2\u7136\u5728 <code>WiFi</code> \u548C <code>GPRS</code> \u540C\u65F6\u6253\u5F00\u65F6\u53EF\u4EE5\u51C6\u786E\u5224\u65AD <code>WiFi</code> \u7684\u72B6\u6001\uFF0C\u90A3\u4E48\u5148\u4F7F\u7528<code>isWifiEnable()</code>\u5224\u65AD <code>WiFi</code> \u662F\u5426\u6253\u5F00\uFF0C\u518D\u60F3\u529E\u6CD5\u66FF\u4EE3<code>isMobileEnable()</code>\u5224\u65AD GPRS \u662F\u5426\u6253\u5F00\u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isAllEnable</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isWiFiEnable</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO \u5224\u65AD\u79FB\u52A8\u6570\u636E\u7F51\u7EDC\u662F\u5426\u6253\u5F00</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5224\u65AD-wifi-\u4E0E-gprs-\u540C\u5F00-2" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD-wifi-\u4E0E-gprs-\u540C\u5F00-2" aria-hidden="true">#</a> \u5224\u65AD WiFi \u4E0E GPRS \u540C\u5F00\uFF082\uFF09</h2><p>\u89C2\u5BDF <code>ConnectivityManager</code> \u6E90\u7801\u53D1\u73B0\u6709\u8FD9\u4E48\u4E00\u4E2A\u51FD\u6570\uFF1A</p><p><img src="https://upload-images.jianshu.io/upload_images/1837368-babc420cfe7f0a25.png?imageMogr2/auto-orient/strip|imageView2/2/w/640/format/webp" alt="ConnectivityManager #getMobileDataEnabled()"></p><p>\u5C1D\u8BD5\u4F7F\u7528\u53CD\u5C04\u8C03\u7528\u8BE5\u51FD\u6570\u5224\u65AD <code>WiFi</code> \u5F00\u542F\u65F6 <code>GPRS</code> \u7684\u72B6\u6001\u53D1\u73B0\u662F\u53EF\u884C\u7684\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isMobileEnableReflex</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConnectivityManager</span> connectivityManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConnectivityManager</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">CONNECTIVITY_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> getMobileDataEnabledMethod <span class="token operator">=</span> <span class="token class-name">ConnectivityManager</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getMobileDataEnabled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        getMobileDataEnabledMethod<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Boolean</span><span class="token punctuation">)</span> getMobileDataEnabledMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>connectivityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6700\u7EC8\uFF0C\u53EF\u884C\u7684\u5224\u65AD <code>WiFi</code> \u548C <code>GPRS</code> \u540C\u5F00\u7684\u65B9\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isAllEnable</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">isWiFiEnable</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isMobileEnableReflex</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),o=[p];function c(i,l){return s(),a("div",null,o)}const k=n(e,[["render",c],["__file","Android \u5224\u65AD WiFi \u548C\u79FB\u52A8\u6570\u636E\u7F51\u7EDC\uFF08GPRS\uFF09\u662F\u5426\u540C\u65F6\u6253\u5F00.html.vue"]]);export{k as default};
