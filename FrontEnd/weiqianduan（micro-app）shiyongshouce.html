<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/logo.png"><title>微前端（micro-app）使用手册 | 石朝辉的博客</title><meta name="description" content="石朝辉的博客">
    <link rel="modulepreload" href="/blog/assets/app-dc8eb989.js"><link rel="modulepreload" href="/blog/assets/framework-a25df3d5.js"><link rel="modulepreload" href="/blog/assets/weiqianduan（micro-app）shiyongshouce.html-6b03f00c.js"><link rel="modulepreload" href="/blog/assets/weiqianduan（micro-app）shiyongshouce.html-43b4e3f2.js"><link rel="prefetch" href="/blog/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-26f01b50.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-12617c12.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7ef4d813.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-938482ba.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a0a4b61a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-839dad05.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f2d49c62.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-84d71758.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4039ad88.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f07c99d0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a8b31bc7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-29765a58.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04f12c27.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7b716572.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-142a6c11.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-12104c65.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5c38b012.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-85fe32f7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9ec37475.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-993067ce.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9485e12e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-aea8e161.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1c3df579.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-69254cc3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6d556962.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d17f3cfb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5b18d14f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1530a120.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c7f12d83.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-47efc587.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9aa2a5b4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c876aa7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-37ae7c9e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-19362ef3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4d163806.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-327c7bb2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a6fc18b6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c62d5966.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-65bd548c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-379917cd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0c5732c0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-47736a0d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f263bbd1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bbdde379.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6cbacd97.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3d83a4bf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1bb59124.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9df77f2f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cfacd8b8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2251bd19.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c65d32c4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bf0bdf9e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7a7bb6d3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d8bdde30.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fcfcff54.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-69676332.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e120b563.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-41470392.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b17c0c26.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-12fceecc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c665ca11.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-23860783.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e9afda97.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-909834ea.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-645f16b8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d5241e12.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8664671d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-10313608.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b6565536.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-531471f4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a7e1001d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-959b0cc8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-71e7ee5e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-be248822.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-78a61f93.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-63e7a111.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-62076531.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3f694d8d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f4b40df6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d6fa3672.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d54ba9aa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-800887e5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-06f5ab5e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d669565.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cda0070c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9fe16952.js" as="script"><link rel="prefetch" href="/blog/assets/Android Dialog：panduandianjiweizhishifuzai Dialog waimian.html-36613b42.js" as="script"><link rel="prefetch" href="/blog/assets/Android Fragment jieshao.html-92b414ed.js" as="script"><link rel="prefetch" href="/blog/assets/Android Gradle productFlavors youhua.html-af0e2f8a.js" as="script"><link rel="prefetch" href="/blog/assets/Android ImageLoader gongjulei.html-b1dc2751.js" as="script"><link rel="prefetch" href="/blog/assets/Android Studio No Debuggable Applications.html-2b8a27f6.js" as="script"><link rel="prefetch" href="/blog/assets/Android Studio zhiding DEBUG he RELEASE banbendabaoshide APK wenjianming.html-74a0551d.js" as="script"><link rel="prefetch" href="/blog/assets/Android ViewPager xunhuangundong.html-79e7f688.js" as="script"><link rel="prefetch" href="/blog/assets/Android WebView he JS jiaohu.html-5aab83f1.js" as="script"><link rel="prefetch" href="/blog/assets/Android shape：bianjiliangduanweibanyuandejuxingtuan.html-a7820eab.js" as="script"><link rel="prefetch" href="/blog/assets/Android zhongshiyong lambda biaodashi.html-c7a00e9c.js" as="script"><link rel="prefetch" href="/blog/assets/Android congxiangcehuopaizhaoxuanzetupianbingjianqie.html-2d084cd0.js" as="script"><link rel="prefetch" href="/blog/assets/Android fangshouji QQ xiaoxishutuodongshanchuxiaoguo.html-23096c20.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong AIDL shixianjinchengjiantongxin.html-574a97c4.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong Canvas huizhibingtu.html-5b924988.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong Dialog zhizuojintieshurufadingbudeshurukuang.html-a0bd2982.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong ViewFlipper shixiantupianlunbo.html-41bd5f63.js" as="script"><link rel="prefetch" href="/blog/assets/Android xiugaizhuomiankuaijiefangshidetupianhemingchen.html-0bfe7328.js" as="script"><link rel="prefetch" href="/blog/assets/Android panduan WiFi heyidongshujuwangluo（GPRS）shifutongshidakai.html-6f65fa34.js" as="script"><link rel="prefetch" href="/blog/assets/Android daitouweihedonghuadexialashuaxin RecyclerView.html-cd18da59.js" as="script"><link rel="prefetch" href="/blog/assets/Android pingtaibofangyigezhengdonghua.html-588564b2.js" as="script"><link rel="prefetch" href="/blog/assets/Android kaiqixuanfuchuang.html-144b130b.js" as="script"><link rel="prefetch" href="/blog/assets/Android dazao QQ kongjiantoubushicha ListView.html-9c3e784d.js" as="script"><link rel="prefetch" href="/blog/assets/Android wenjianxiazai（duandian、duorenwubingxingxiazai）.html-282c0d4e.js" as="script"><link rel="prefetch" href="/blog/assets/Android genjuziyuandemingzihuoquqi ID zhi.html-cae4e232.js" as="script"><link rel="prefetch" href="/blog/assets/Android zidingyi View shixianguaguakaxiaoguo.html-4418e86d.js" as="script"><link rel="prefetch" href="/blog/assets/Android huoqu meta-data yuansude value shuxingdezhi.html-94e5406c.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue Bitmap zhuan Drawable chicunbianxiaodewenti.html-4414c47d.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue ScrollView gundongtiaobuzaizuidingbudewenti.html-57f558b2.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue SurfaceView huatushitupianshizhendewenti.html-a98e44bf.js" as="script"><link rel="prefetch" href="/blog/assets/Android zhongxie TimePickerDialog yijiejueduocitianjiadewenti.html-1c39ef94.js" as="script"><link rel="prefetch" href="/blog/assets/Android xiangmudaochuwei jar baohoudiaoyongwaibuziyuandewenti.html-b64f91d1.js" as="script"><link rel="prefetch" href="/blog/assets/BRVAH shuxingliebiaoxiangjieのshiyongpian.html-0ce2421b.js" as="script"><link rel="prefetch" href="/blog/assets/Mac Android Studio Terminal zhongwenxianshiyichang.html-c69374d6.js" as="script"><link rel="prefetch" href="/blog/assets/shiyong RecyclerView shixianduoxingshuipingfenyede GridView xiaoguohe ViewPager xiaoguo.html-a532fffd.js" as="script"><link rel="prefetch" href="/blog/assets/ketianjia Header kexialashuaxinde RecyclerView.html-c11a5ae0.js" as="script"><link rel="prefetch" href="/blog/assets/weixinpengyouquanduotufenxiangfangan.html-d9978fe3.js" as="script"><link rel="prefetch" href="/blog/assets/jiejue X5 nahezai Android 9 shangde Mixed Content wenti.html-95afae1d.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Android pian.html-291462a2.js" as="script"><link rel="prefetch" href="/blog/assets/Cocos Creator weixinxiaoyouxikaifangshujuyushipei.html-1667a00d.js" as="script"><link rel="prefetch" href="/blog/assets/Cocos Creator shujucunchuzhi Array.html-34c043b6.js" as="script"><link rel="prefetch" href="/blog/assets/Flutter zidingyisuofangkongjian.html-17251af8.js" as="script"><link rel="prefetch" href="/blog/assets/CORS kuayuyuanli.html-6cf91b6b.js" as="script"><link rel="prefetch" href="/blog/assets/CSS shixian Turbo guanwang 3D wanggexianbeijingdonghua.html-0da05a8c.js" as="script"><link rel="prefetch" href="/blog/assets/CSS jianbianbiankuangjidonghua.html-95682045.js" as="script"><link rel="prefetch" href="/blog/assets/JSONP kuayuyuanli.html-ff7e6d2b.js" as="script"><link rel="prefetch" href="/blog/assets/Node.js rumen.html-4daffa37.js" as="script"><link rel="prefetch" href="/blog/assets/Vite2 _ React _ Antd caikangzhinan.html-5eddffee.js" as="script"><link rel="prefetch" href="/blog/assets/wei el-select zujiantianjiagundongjiazaigengduodegongnen.html-54f6b059.js" as="script"><link rel="prefetch" href="/blog/assets/shimeshiweiqianduan？.html-64ff3493.js" as="script"><link rel="prefetch" href="/blog/assets/shiyong Vite2 goujian React _ Antd xiangmu.html-89efc245.js" as="script"><link rel="prefetch" href="/blog/assets/tongyuancelue _ kuayu.html-629aa3ac.js" as="script"><link rel="prefetch" href="/blog/assets/changjianweiqianduanfangan.html-da94d3ac.js" as="script"><link rel="prefetch" href="/blog/assets/weiqianduan（qiankun）shiyongshouce.html-e928a5bc.js" as="script"><link rel="prefetch" href="/blog/assets/weiqianduan（wujie）shiyongshouce.html-03d77be8.js" as="script"><link rel="prefetch" href="/blog/assets/jiangyu _ postMessage.html-2491489a.js" as="script"><link rel="prefetch" href="/blog/assets/Retrofit2.0 shiyongxiangjie.html-cfbc683d.js" as="script"><link rel="prefetch" href="/blog/assets/RxJava 1.x：niyidinghuiyongdaodechangyongcaozuofu.html-82f69798.js" as="script"><link rel="prefetch" href="/blog/assets/niyidinghuiyongdaode RxJava caozuofu.html-315d5f64.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Java API pian.html-5132da9b.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Java suanfapian.html-dd72cbd1.js" as="script"><link rel="prefetch" href="/blog/assets/Python chaxun GitLab commit cishu.html-493c85c5.js" as="script"><link rel="prefetch" href="/blog/assets/gongchangmoshi（Factory Pattern）.html-d68e83c1.js" as="script"><link rel="prefetch" href="/blog/assets/shejimoshi.html-ddbe5459.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9a3bbabe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-84951a1a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fbd5e673.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d6acd546.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-785b6b6b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2febf341.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-76ae5efd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9dc2643c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c4b1e39d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-02af5cf1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-20cf640c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-68cfe99c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c4c872dc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2322264c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9e0ff605.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7cb9e7f4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-de1b7eb6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ea7cd2c7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bef71428.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ac12151e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-769b27fd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b519ab88.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b7ed4d01.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3321c301.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6077213a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-124cad7f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9f0219f6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e6339847.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-714b839c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a4b787f6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7a32fa5d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-53ac797d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2e6f13bb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2a64cabf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dffbbc79.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-39d9a7b9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-28ef07fa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e6e37738.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e3ec948f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-347917fc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6b43354f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-500d7234.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d58b5e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c328ab98.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3c36baa8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a3966ba4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-55cc3808.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2f4b93c9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-edc675d8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-104e1883.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9414a1e5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-674ff8fb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4159aed0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a345c405.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-12700457.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ebb0b208.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-91e2918c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4df5ca2a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a5c071bf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6a348299.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7aa6e88d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f0e4eddd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eff0f620.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7ad6fb8e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-068f1fcb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-db9265d9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-617134cd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5c2e34cd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8cabb6d5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3e745da7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ac28b823.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fcf8f1bf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-46d5a044.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-34fa5387.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3a229a0d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6d112c17.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-81accd7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e1bd857c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4e8121f0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a53b6ac1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8a9beec1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a739acd3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9b95a79b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-34723b98.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4f9135e7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ee571779.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-db5709f7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-be98010d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d7f0144.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5e527961.js" as="script"><link rel="prefetch" href="/blog/assets/Android Dialog：panduandianjiweizhishifuzai Dialog waimian.html-e0febcb7.js" as="script"><link rel="prefetch" href="/blog/assets/Android Fragment jieshao.html-147a1180.js" as="script"><link rel="prefetch" href="/blog/assets/Android Gradle productFlavors youhua.html-f0054098.js" as="script"><link rel="prefetch" href="/blog/assets/Android ImageLoader gongjulei.html-d6845365.js" as="script"><link rel="prefetch" href="/blog/assets/Android Studio No Debuggable Applications.html-90b3d272.js" as="script"><link rel="prefetch" href="/blog/assets/Android Studio zhiding DEBUG he RELEASE banbendabaoshide APK wenjianming.html-ee7d89f6.js" as="script"><link rel="prefetch" href="/blog/assets/Android ViewPager xunhuangundong.html-b59dc0c9.js" as="script"><link rel="prefetch" href="/blog/assets/Android WebView he JS jiaohu.html-e93ed9b7.js" as="script"><link rel="prefetch" href="/blog/assets/Android shape：bianjiliangduanweibanyuandejuxingtuan.html-a9d10f93.js" as="script"><link rel="prefetch" href="/blog/assets/Android zhongshiyong lambda biaodashi.html-765cd6d4.js" as="script"><link rel="prefetch" href="/blog/assets/Android congxiangcehuopaizhaoxuanzetupianbingjianqie.html-18e243c6.js" as="script"><link rel="prefetch" href="/blog/assets/Android fangshouji QQ xiaoxishutuodongshanchuxiaoguo.html-cb630464.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong AIDL shixianjinchengjiantongxin.html-71431a99.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong Canvas huizhibingtu.html-963da1fd.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong Dialog zhizuojintieshurufadingbudeshurukuang.html-1d6232b6.js" as="script"><link rel="prefetch" href="/blog/assets/Android shiyong ViewFlipper shixiantupianlunbo.html-cc01e388.js" as="script"><link rel="prefetch" href="/blog/assets/Android xiugaizhuomiankuaijiefangshidetupianhemingchen.html-bde42c12.js" as="script"><link rel="prefetch" href="/blog/assets/Android panduan WiFi heyidongshujuwangluo（GPRS）shifutongshidakai.html-42a70acd.js" as="script"><link rel="prefetch" href="/blog/assets/Android daitouweihedonghuadexialashuaxin RecyclerView.html-0abfcb6f.js" as="script"><link rel="prefetch" href="/blog/assets/Android pingtaibofangyigezhengdonghua.html-f004988a.js" as="script"><link rel="prefetch" href="/blog/assets/Android kaiqixuanfuchuang.html-117a6ddb.js" as="script"><link rel="prefetch" href="/blog/assets/Android dazao QQ kongjiantoubushicha ListView.html-5fb3ae62.js" as="script"><link rel="prefetch" href="/blog/assets/Android wenjianxiazai（duandian、duorenwubingxingxiazai）.html-8bda0a6e.js" as="script"><link rel="prefetch" href="/blog/assets/Android genjuziyuandemingzihuoquqi ID zhi.html-ea13770d.js" as="script"><link rel="prefetch" href="/blog/assets/Android zidingyi View shixianguaguakaxiaoguo.html-eddb1449.js" as="script"><link rel="prefetch" href="/blog/assets/Android huoqu meta-data yuansude value shuxingdezhi.html-b2ee2dad.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue Bitmap zhuan Drawable chicunbianxiaodewenti.html-63310d7e.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue ScrollView gundongtiaobuzaizuidingbudewenti.html-597bfcaf.js" as="script"><link rel="prefetch" href="/blog/assets/Android jiejue SurfaceView huatushitupianshizhendewenti.html-42ef86fc.js" as="script"><link rel="prefetch" href="/blog/assets/Android zhongxie TimePickerDialog yijiejueduocitianjiadewenti.html-21b2fce1.js" as="script"><link rel="prefetch" href="/blog/assets/Android xiangmudaochuwei jar baohoudiaoyongwaibuziyuandewenti.html-b5295e75.js" as="script"><link rel="prefetch" href="/blog/assets/BRVAH shuxingliebiaoxiangjieのshiyongpian.html-037d1fa8.js" as="script"><link rel="prefetch" href="/blog/assets/Mac Android Studio Terminal zhongwenxianshiyichang.html-477b4bb6.js" as="script"><link rel="prefetch" href="/blog/assets/shiyong RecyclerView shixianduoxingshuipingfenyede GridView xiaoguohe ViewPager xiaoguo.html-61be3080.js" as="script"><link rel="prefetch" href="/blog/assets/ketianjia Header kexialashuaxinde RecyclerView.html-a87cab2d.js" as="script"><link rel="prefetch" href="/blog/assets/weixinpengyouquanduotufenxiangfangan.html-e66515a6.js" as="script"><link rel="prefetch" href="/blog/assets/jiejue X5 nahezai Android 9 shangde Mixed Content wenti.html-f3afdb3f.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Android pian.html-4960aa44.js" as="script"><link rel="prefetch" href="/blog/assets/Cocos Creator weixinxiaoyouxikaifangshujuyushipei.html-7bf4a2b4.js" as="script"><link rel="prefetch" href="/blog/assets/Cocos Creator shujucunchuzhi Array.html-fb4adc24.js" as="script"><link rel="prefetch" href="/blog/assets/Flutter zidingyisuofangkongjian.html-1ef1b7ba.js" as="script"><link rel="prefetch" href="/blog/assets/CORS kuayuyuanli.html-5fd33c4c.js" as="script"><link rel="prefetch" href="/blog/assets/CSS shixian Turbo guanwang 3D wanggexianbeijingdonghua.html-72247fda.js" as="script"><link rel="prefetch" href="/blog/assets/CSS jianbianbiankuangjidonghua.html-a590ebd1.js" as="script"><link rel="prefetch" href="/blog/assets/JSONP kuayuyuanli.html-5f7011fe.js" as="script"><link rel="prefetch" href="/blog/assets/Node.js rumen.html-90829c23.js" as="script"><link rel="prefetch" href="/blog/assets/Vite2 _ React _ Antd caikangzhinan.html-97b90891.js" as="script"><link rel="prefetch" href="/blog/assets/wei el-select zujiantianjiagundongjiazaigengduodegongnen.html-90c41b6c.js" as="script"><link rel="prefetch" href="/blog/assets/shimeshiweiqianduan？.html-24c16518.js" as="script"><link rel="prefetch" href="/blog/assets/shiyong Vite2 goujian React _ Antd xiangmu.html-19b7c311.js" as="script"><link rel="prefetch" href="/blog/assets/tongyuancelue _ kuayu.html-ca8f529d.js" as="script"><link rel="prefetch" href="/blog/assets/changjianweiqianduanfangan.html-2cb3345c.js" as="script"><link rel="prefetch" href="/blog/assets/weiqianduan（qiankun）shiyongshouce.html-c6daf86a.js" as="script"><link rel="prefetch" href="/blog/assets/weiqianduan（wujie）shiyongshouce.html-81008f62.js" as="script"><link rel="prefetch" href="/blog/assets/jiangyu _ postMessage.html-c8c89b0a.js" as="script"><link rel="prefetch" href="/blog/assets/Retrofit2.0 shiyongxiangjie.html-2555b889.js" as="script"><link rel="prefetch" href="/blog/assets/RxJava 1.x：niyidinghuiyongdaodechangyongcaozuofu.html-a156e42a.js" as="script"><link rel="prefetch" href="/blog/assets/niyidinghuiyongdaode RxJava caozuofu.html-7d67c9e0.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Java API pian.html-9f3b0586.js" as="script"><link rel="prefetch" href="/blog/assets/mianshiti－Java suanfapian.html-bd00a06c.js" as="script"><link rel="prefetch" href="/blog/assets/Python chaxun GitLab commit cishu.html-914b7094.js" as="script"><link rel="prefetch" href="/blog/assets/gongchangmoshi（Factory Pattern）.html-85d8690b.js" as="script"><link rel="prefetch" href="/blog/assets/shejimoshi.html-f4b29105.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-502b5f00.js" as="script"><link rel="prefetch" href="/blog/assets/reco-valine-a0c1af1f.js" as="script"><link rel="prefetch" href="/blog/assets/PersonalSummary-223f45b4.js" as="script">
    <link rel="preload" href="/blog/assets/style-26145b9f.css" as="style"><link rel="stylesheet" href="/blog/assets/style-26145b9f.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><div><header class="navbar-container"><!--[--><div class="site-brand nav-item"><img class="logo" src="/blog/logo.png" alt="石朝辉的博客"><a href="/blog/" class="site-name can-hide">石朝辉的博客</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/blog/#all" class="link" aria-label="全部"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->全部<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/categories/FrontEnd/1/" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/tags/FrontEnd/1/" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="博客平台"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->博客平台<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="博客平台"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->博客平台<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://juejin.cn/user/4441682704866759/posts" target="_blank" rel="noopener noreferrer" aria-label="掘金"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->掘金<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://www.jianshu.com/u/2cbd13c2ceb8" target="_blank" rel="noopener noreferrer" aria-label="简书"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->简书<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://blog.csdn.net/u014165119" target="_blank" rel="noopener noreferrer" aria-label="CSDN"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSDN<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://shichaohui.github.io" target="_blank" rel="noopener noreferrer" aria-label="个人主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人主页<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/shichaohui" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div><!--]--></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/blog/#all" class="link" aria-label="全部"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->全部<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/categories/FrontEnd/1/" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/blog/tags/FrontEnd/1/" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="博客平台"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->博客平台<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="博客平台"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->博客平台<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://juejin.cn/user/4441682704866759/posts" target="_blank" rel="noopener noreferrer" aria-label="掘金"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->掘金<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://www.jianshu.com/u/2cbd13c2ceb8" target="_blank" rel="noopener noreferrer" aria-label="简书"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->简书<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://blog.csdn.net/u014165119" target="_blank" rel="noopener noreferrer" aria-label="CSDN"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSDN<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://shichaohui.github.io" target="_blank" rel="noopener noreferrer" aria-label="个人主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->个人主页<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/shichaohui" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/blog/logo.png" alt="石朝辉的博客"><a href="/blog/" class="site-name can-hide">石朝辉的博客</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">微前端（micro-app）使用手册</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->石朝辉<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023-06-25 17:46<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->FrontEnd<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->FrontEnd<!--]--></span></span><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><span id="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!--]--></span></span></div><div class="theme-reco-default-content"><div><blockquote><p><small>转载请注明出处，<a href="https://shichaohui.github.io/" target="_blank" rel="noopener noreferrer">点击此处<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 查看更多精彩内容</small></p></blockquote><h1 id="micro-app-使用手册" tabindex="-1"><a class="header-anchor" href="#micro-app-使用手册" aria-hidden="true">#</a> micro-app 使用手册</h1><p><a href="https://zeroing.jd.com/docs.html#/" target="_blank" rel="noopener noreferrer">micro-app<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 是借鉴了 <code>Web Component</code> 的思想，通过 <code>Custom Element</code> 结合自定义的 <code>Shadow Dom</code>，将微前端封装成一个类 <code>Web Component</code> 组件，从而实现微前端的组件化渲染。并且由于自定义 <code>Shadow Dom</code> 的隔离特性，<code>micro-app</code> 不需要像 <code>single-spa</code> 和 <code>qiankun</code> 一样要求子应用修改渲染逻辑并暴露出方法，也不需要修改 <code>Webpack</code> 配置，是目前市面上接入微前端成本最低的方案。</p><p><strong>概念图</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1281db88c95e43fa9141f73f3c64a94e~tplv-k3u1fbpfcp-zoom-1.image" alt="概念图"></p><h2 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手" aria-hidden="true">#</a> 快速上手</h2><h3 id="主应用" tabindex="-1"><a class="header-anchor" href="#主应用" aria-hidden="true">#</a> 主应用</h3><p>主应用不限技术栈，只需引入 <code>micro-app</code>、配置子应用路由并启动 <code>micro-app</code> 即可。这里以 <code>Vue3</code> 框架为例。</p><h4 id="安装-micro-app" tabindex="-1"><a class="header-anchor" href="#安装-micro-app" aria-hidden="true">#</a> 安装 <code>micro-app</code></h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @micro-zoe/micro-app

<span class="token function">pnpm</span> <span class="token function">add</span> @micro-zoe/micro-app

<span class="token function">npm</span> i @micro-zoe/micro-app
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="启动-micro-app" tabindex="-1"><a class="header-anchor" href="#启动-micro-app" aria-hidden="true">#</a> 启动 <code>micro-app</code></h4><p>在应用入口引入并启动 <code>micro-app</code>。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> microApp <span class="token keyword">from</span> <span class="token string">&#39;@micro-zoe/micro-app&#39;</span>

microApp<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="嵌入子应用" tabindex="-1"><a class="header-anchor" href="#嵌入子应用" aria-hidden="true">#</a> 嵌入子应用</h4><p>创建 Vue 页面（如 <code>src/views/SubApp.vue</code>）用于承载子应用。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>micro<span class="token operator">-</span>app name<span class="token operator">=</span><span class="token string">&#39;sub-app&#39;</span> url<span class="token operator">=</span><span class="token string">&#39;http://localhost:8381/&#39;</span> baseroute<span class="token operator">=</span><span class="token string">&#39;/sub-app&#39;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>micro<span class="token operator">-</span>app<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>&lt;micro-app&gt;</code> 组件配置说明：</strong></p><ul><li>name: 子应用名称。必须以字母开头，且不可以带有除中划线和下划线外的特殊符号，每个 name 都对应一个应用，当多个应用同时渲染时，name 不可以重复。</li><li>url: 子应用地址。会被自动补全，如 http://localhost:3000/index.html。</li><li>baseroute: 主应用分配给子应用的基础路由。</li><li><a href="https://zeroing.jd.com/docs.html#/zh-cn/configure" target="_blank" rel="noopener noreferrer">查看更多子应用配置<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h4 id="配置子应用路由" tabindex="-1"><a class="header-anchor" href="#配置子应用路由" aria-hidden="true">#</a> 配置子应用路由</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/sub-app/*&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/SubApp.vue&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>path</code> 是子应用路由地址。非严格匹配，<code>/sub-app/*</code> 都指向 <code>SubApp</code> 页面。使用 <code>vue-router@4.x</code> 时写法为：<code>&#39;/sub-app/:page*&#39;</code>。</p><h3 id="vue2-webpack-子应用" tabindex="-1"><a class="header-anchor" href="#vue2-webpack-子应用" aria-hidden="true">#</a> Vue2 + Webpack 子应用</h3><h4 id="设置基础路由" tabindex="-1"><a class="header-anchor" href="#设置基础路由" aria-hidden="true">#</a> 设置基础路由</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> window<span class="token punctuation">.</span>__MICRO_APP_BASE_ROUTE__ <span class="token operator">||</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置跨域支持" tabindex="-1"><a class="header-anchor" href="#配置跨域支持" aria-hidden="true">#</a> 配置跨域支持</h4><p>修改 <code>vue.config.js</code> 配置跨域支持。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@vue/cli-service&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vue3-vite-子应用" tabindex="-1"><a class="header-anchor" href="#vue3-vite-子应用" aria-hidden="true">#</a> Vue3 + Vite 子应用</h3><p>在嵌入 <code>Vite</code> 子应用时，<code>micro-app</code> 的功能只负责渲染，其它的行为由应用自行决定，这包括如何防止样式、JavaScript 变量、元素的冲突。</p><h4 id="子应用的修改" tabindex="-1"><a class="header-anchor" href="#子应用的修改" aria-hidden="true">#</a> 子应用的修改</h4><ol><li>添加自定义插件</li></ol><ul><li>新建插件 <code>vite-plugin-micro-app.js</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&#39;fs&#39;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>

<span class="token keyword">function</span> <span class="token function">VitePluginMicroApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> basePath <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vite:micro-app&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span>
    <span class="token function">configResolved</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      basePath <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>config<span class="token punctuation">.</span>base<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsDir<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">writeBundle</span><span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> bundle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunkName <span class="token keyword">in</span> bundle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> chunkName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> chunk <span class="token operator">=</span> bundle<span class="token punctuation">[</span>chunkName<span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>chunk<span class="token punctuation">.</span>fileName<span class="token operator">?.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>chunk<span class="token punctuation">.</span>fileName<span class="token operator">?.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.ts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        chunk<span class="token punctuation">.</span>code <span class="token operator">=</span> chunk<span class="token punctuation">.</span>code<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(from|import\()(\s*[&#39;&quot;])(\.\.?\/)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">all<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2<span class="token punctuation">,</span> $3</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
          all<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>$3<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>$3<span class="token punctuation">,</span> basePath<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">const</span> fullPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dir<span class="token punctuation">,</span> chunk<span class="token punctuation">.</span>fileName<span class="token punctuation">)</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>fullPath<span class="token punctuation">,</span> chunk<span class="token punctuation">.</span>code<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> VitePluginMicroApp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>导入插件并配置公共资源基础路径</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> microAppPlugin <span class="token keyword">from</span> <span class="token string">&#39;./vite-plugin-micro-app&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&#39;/vue3-app/&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">microAppPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>修改容器元素 id</li></ol><ul><li>修改 <code>index.html</code> 中容器元素的 id 值</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-vite-app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用新的 id 渲染</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#my-vite-app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当多个vite子应用同时渲染时，必须修改容器元素的id值，确保每个子应用容器元素id的唯一性，否则无法正常渲染。</p><ol start="3"><li>路由</li></ol><p>推荐基座使用 <code>history</code> 路由，<code>Vite</code> 子应用使用 <code>hash</code> 路由，避免一些可能出现的问题。</p><p>子应用如果是 <code>Vue3</code>，在初始化时路由时，<code>createWebHashHistory</code> 不要传入参数，如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>静态资源</li></ol><p>图片等静态资源需要使用绝对地址，可以使用 <code>new URL(&#39;../assets/logo.png&#39;, i<wbr>mport.meta.url).href</code> 等方式获取资源的全链接地址。</p><h4 id="主应用的修改" tabindex="-1"><a class="header-anchor" href="#主应用的修改" aria-hidden="true">#</a> 主应用的修改</h4><ol><li>关闭沙箱并使用内联 script 模式</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>micro<span class="token operator">-</span>app
  name<span class="token operator">=</span><span class="token string">&#39;child-name&#39;</span>
  url<span class="token operator">=</span><span class="token string">&#39;http://localhost:3001/basename/&#39;</span>
  disableSandbox <span class="token comment">// 关闭沙箱</span>
  inline <span class="token comment">// 使用内联script模式</span>
<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>处理子应用静态资源</li></ol><p>写一个简易的插件，对开发环境的子应用进行处理，补全静态资源路径。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>microApp<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// appName 即子应用的 name</span>
      <span class="token literal-property property">appName</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token function">loader</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MODE</span> <span class="token operator">!==</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> code
          <span class="token punctuation">}</span>
          <span class="token comment">// 这里 basename 需要和子应用vite.config.js中base的配置保持一致</span>
          code <span class="token operator">=</span> code<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(from|import)(\s*[&#39;&quot;])(\/basename\/)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">all</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> all<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/basename/&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;子应用域名/basename/&#39;</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> code
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="react-子应用" tabindex="-1"><a class="header-anchor" href="#react-子应用" aria-hidden="true">#</a> React 子应用</h3><h4 id="设置基础路由-1" tabindex="-1"><a class="header-anchor" href="#设置基础路由-1" aria-hidden="true">#</a> 设置基础路由</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>BrowserRouter basename<span class="token operator">=</span><span class="token punctuation">{</span>window<span class="token punctuation">.</span>__MICRO_APP_BASE_ROUTE__ <span class="token operator">||</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置跨域支持-1" tabindex="-1"><a class="header-anchor" href="#配置跨域支持-1" aria-hidden="true">#</a> 配置跨域支持</h4><ol><li>安装 <code>react-app-rewired</code> <code>customize-cra</code> 依赖</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> react-app-rewired customize-cra

<span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> react-app-rewired customize-cra

<span class="token function">npm</span> i <span class="token parameter variable">-D</span> react-app-rewired customize-cra
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>应用根目录添加 <code>config-overrides.js</code> 文件</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> overrideDevServer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;customize-cra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token function">overrideDevServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>config<span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>修改 <code>package.json</code></li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>-   <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts start&quot;</span><span class="token punctuation">,</span>
+   <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired start&quot;</span><span class="token punctuation">,</span>
-   <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts build&quot;</span><span class="token punctuation">,</span>
+   <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired build&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="应用间通信" tabindex="-1"><a class="header-anchor" href="#应用间通信" aria-hidden="true">#</a> 应用间通信</h2><p><code>micro-app</code> 提供了一套灵活的数据通信机制，方便主应用和子应用之间的数据传输。</p><p>正常情况下，主应用和子应用之间的通信是绑定的，主应用只能向指定的子应用发送数据，子应用只能向基座发送数据，这种方式可以有效的避免数据污染，防止多个子应用之间相互影响。</p><p>同时 <code>micro-app</code> 也提供了全局通信，方便跨应用之间的数据通信。</p><h3 id="主应用向子应用发送数据" tabindex="-1"><a class="header-anchor" href="#主应用向子应用发送数据" aria-hidden="true">#</a> 主应用向子应用发送数据</h3><p>主应用向子应用发送数据有两种方式。</p><ol><li>通过 <code>data</code> 属性发送数据</li></ol><p>使用 <code>&lt;micro-app&gt;</code> 组件的 <code>data</code> 给子应用发送数据，此时只接受对象类型，数据变化时会自动重新发送。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>micro<span class="token operator">-</span>app name<span class="token operator">=</span><span class="token string">&quot;my-app&quot;</span> url<span class="token operator">=</span><span class="token string">&quot;http://localhost:8381/&quot;</span> baseroute<span class="token operator">=</span><span class="token string">&quot;/my-app&quot;</span> <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;data&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;通过 data 发送给子应用的数据&#39;</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>手动发送数据</li></ol><p>手动发送数据需要通过 <code>name</code> 指定接受数据的子应用，此值和 <code>&lt;micro-app&gt;</code> 元素中的 <code>name</code> 一致。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 发送数据给子应用 my-app，setData第二个参数只接受对象类型</span>
microApp<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&#39;my-app&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;手动发送给子应用的数据&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子应用接收主应用发送的数据" tabindex="-1"><a class="header-anchor" href="#子应用接收主应用发送的数据" aria-hidden="true">#</a> 子应用接收主应用发送的数据</h3><p><code>micro-app</code> 会向子应用注入名称为 <code>microApp</code> 的全局对象，子应用通过这个对象有两种方式获取来自主应用的数据。</p><ol><li>直接获取</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 获取主应用下发的 data 数据</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>绑定监听函数</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">dataListener</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;来自主应用的数据&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 绑定监听函数，监听函数只有在数据变化时才会触发
 * dataListener: 绑定函数
 * autoTrigger: 在初次绑定监听函数时如果有缓存数据，是否需要主动触发一次，默认为 false
 * !!!重要说明: 因为子应用是异步渲染的，而基座发送数据是同步的，
 * 如果在子应用渲染结束前主应用发送数据，则在绑定监听函数前数据已经发送，在初始化后不会触发绑定函数，
 * 但这个数据会放入缓存中，此时可以设置 autoTrigger 为 true 主动触发一次监听函数来获取数据。
 */</span>
window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">addDataListener</span><span class="token punctuation">(</span>dataListener<span class="token operator">:</span> Function<span class="token punctuation">,</span> autoTrigger<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">)</span>

<span class="token comment">// 解绑监听函数</span>
window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">removeDataListener</span><span class="token punctuation">(</span>dataListener<span class="token operator">:</span> Function<span class="token punctuation">)</span>

<span class="token comment">// 清空当前子应用的所有绑定函数(全局数据函数除外)</span>
window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">clearDataListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子应用向主应用发送数据" tabindex="-1"><a class="header-anchor" href="#子应用向主应用发送数据" aria-hidden="true">#</a> 子应用向主应用发送数据</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// dispatch只接受对象作为参数</span>
window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;子应用发送的数据&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="主应用接收子应用发送的数据" tabindex="-1"><a class="header-anchor" href="#主应用接收子应用发送的数据" aria-hidden="true">#</a> 主应用接收子应用发送的数据</h3><p>主应用获取来自子应用的数据有三种方式。</p><ol><li>直接获取数据</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 获取指定子应用发送的数据</span>
<span class="token keyword">const</span> childData <span class="token operator">=</span> microApp<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>appName<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>监听 <code>datachange</code> 事件</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>micro<span class="token operator">-</span>app name<span class="token operator">=</span><span class="token string">&quot;my-app&quot;</span> url<span class="token operator">=</span><span class="token string">&quot;http://localhost:8381/&quot;</span> baseroute<span class="token operator">=</span><span class="token string">&quot;/my-app&quot;</span> @datachange<span class="token operator">=</span><span class="token string">&quot;handleDataChange&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">handleDataChange</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>绑定监听函数</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">dataListener</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;来自子应用的数据&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 绑定监听函数
 * appName: 应用名称
 * dataListener: 绑定函数
 * autoTrigger: 在初次绑定监听函数时如果有缓存数据，是否需要主动触发一次，默认为false
 */</span>
microApp<span class="token punctuation">.</span><span class="token function">addDataListener</span><span class="token punctuation">(</span>appName<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">dataListener</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> autoTrigger<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">)</span>

<span class="token comment">// 解绑监听my-app子应用的函数</span>
microApp<span class="token punctuation">.</span><span class="token function">removeDataListener</span><span class="token punctuation">(</span>appName<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">dataListener</span><span class="token operator">:</span> Function<span class="token punctuation">)</span>

<span class="token comment">// 清空所有监听appName子应用的函数</span>
microApp<span class="token punctuation">.</span><span class="token function">clearDataListener</span><span class="token punctuation">(</span>appName<span class="token operator">:</span> string<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="全局数据通信" tabindex="-1"><a class="header-anchor" href="#全局数据通信" aria-hidden="true">#</a> 全局数据通信</h3><p>全局数据通信会向主应用和所有子应用发送数据，在跨应用通信的场景中适用。</p><h4 id="发送全局数据" tabindex="-1"><a class="header-anchor" href="#发送全局数据" aria-hidden="true">#</a> 发送全局数据</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// setGlobalData 只接受对象作为参数</span>
microApp<span class="token punctuation">.</span><span class="token function">setGlobalData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;全局数据&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取全局数据" tabindex="-1"><a class="header-anchor" href="#获取全局数据" aria-hidden="true">#</a> 获取全局数据</h4><ol><li>直接获取数据</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> globalData <span class="token operator">=</span> window<span class="token punctuation">.</span>microApp<span class="token punctuation">.</span><span class="token function">getGlobalData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>绑定监听函数</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">dataListener</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
microApp<span class="token punctuation">.</span><span class="token function">addGlobalDataListener</span><span class="token punctuation">(</span>dataListener<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关闭沙箱后的通信方式" tabindex="-1"><a class="header-anchor" href="#关闭沙箱后的通信方式" aria-hidden="true">#</a> 关闭沙箱后的通信方式</h3><p>沙箱关闭后，子应用默认的通信功能失效，此时可以通过手动注册通信对象实现一致的功能。</p><p><strong>注册方式：在主应用中为子应用初始化通信对象</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> EventCenterForMicroApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@micro-zoe/micro-app&#39;</span>

<span class="token comment">// 注意：每个子应用根据 appName 单独分配一个通信对象</span>
window<span class="token punctuation">.</span>eventCenterForAppxx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventCenterForMicroApp</span><span class="token punctuation">(</span>appName<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>子应用通信方式：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 直接获取数据</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> window<span class="token punctuation">.</span>eventCenterForAppxx<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">function</span> <span class="token function">dataListener</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;来自主应用的数据&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 绑定监听函数
 * dataListener: 绑定函数
 * autoTrigger: 在初次绑定监听函数时如果有缓存数据，是否需要主动触发一次，默认为 false
 */</span>
window<span class="token punctuation">.</span>eventCenterForAppxx<span class="token punctuation">.</span><span class="token function">addDataListener</span><span class="token punctuation">(</span>dataListener<span class="token operator">:</span> Function<span class="token punctuation">,</span> autoTrigger<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">)</span>

<span class="token comment">// 解绑监听函数</span>
window<span class="token punctuation">.</span>eventCenterForAppxx<span class="token punctuation">.</span><span class="token function">removeDataListener</span><span class="token punctuation">(</span>dataListener<span class="token operator">:</span> Function<span class="token punctuation">)</span>

<span class="token comment">// 清空当前子应用的所有绑定函数(全局数据函数除外)</span>
window<span class="token punctuation">.</span>eventCenterForAppxx<span class="token punctuation">.</span><span class="token function">clearDataListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 子应用向主应用发送数据，只接受对象作为参数</span>
window<span class="token punctuation">.</span>eventCenterForAppxx<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;子应用发送的数据&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><h3 id="webpack-public-path-无效-静态资源路径错误。" tabindex="-1"><a class="header-anchor" href="#webpack-public-path-无效-静态资源路径错误。" aria-hidden="true">#</a> <code>__webpack_public_path__</code> 无效，静态资源路径错误。</h3><p>将 <code>public-path.js</code> 的导入语句放在应用入口文件的第一行。</p><h3 id="typescript-cannot-find-name-webpack-public-path-。" tabindex="-1"><a class="header-anchor" href="#typescript-cannot-find-name-webpack-public-path-。" aria-hidden="true">#</a> TypeScript cannot find name <code>__webpack_public_path__</code>。</h3><p>在 <code>src</code> 目录新增 <code>global.d.ts</code> 文件：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>declare <span class="token keyword">let</span> <span class="token literal-property property">__webpack_public_path__</span><span class="token operator">:</span> string<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__MICRO_APP_BASE_ROUTE__</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">__MICRO_APP_PUBLIC_PATH__</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">__MICRO_APP_ENVIRONMENT__</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="react18-子应用首次进入展示空白-再次进入正常。" tabindex="-1"><a class="header-anchor" href="#react18-子应用首次进入展示空白-再次进入正常。" aria-hidden="true">#</a> React18 子应用首次进入展示空白，再次进入正常。</h3><p>在 <code>React18</code> 项目中使用 <code>@rescripts/cli</code> 修改 <code>Webpack</code> 配置可能会导致 <code>micro-app</code> 首次进入 <code>React18</code> 子应用时展示空白。</p><p>将 <code>@rescripts/cli</code> 替换为 <code>react-app-rewired</code> <code>customize-cra</code> 即可。</p><h3 id="configuration-output-has-an-unknown-property-jsonpfunction" tabindex="-1"><a class="header-anchor" href="#configuration-output-has-an-unknown-property-jsonpfunction" aria-hidden="true">#</a> configuration.output has an unknown property &#39;jsonpFunction&#39;.</h3><p>将 <code>output.jsonpFunction</code> 更名为 <code>output.chunkLoadingGlobal​​​​​​​</code>。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// jsonpFunction: `webpackJsonp_${name}`,</span>
<span class="token literal-property property">chunkLoadingGlobal</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">webpackJsonp_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。" tabindex="-1"><a class="header-anchor" href="#子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。" aria-hidden="true">#</a> 子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。</h3><ul><li><code>Vue</code> 通过路由守卫更新 <code>state</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Vue2</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">current</span><span class="token operator">:</span> location<span class="token punctuation">.</span>pathname <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Vue3</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">current</span><span class="token operator">:</span> history<span class="token punctuation">.</span>state<span class="token punctuation">.</span>current <span class="token operator">===</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>location<span class="token punctuation">.</span>pathname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>location<span class="token punctuation">.</span>hash<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>React</code> 通过轮询监听路由变化更新 <code>state</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">listenRouterChange</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldHref <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">loop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">!==</span> oldHref<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        oldHref <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">listenRouterChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">current</span><span class="token operator">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->最后更新于 2023-08-02 04:08:08<!--]--></span></span></div></footer><!----><div class="reco-valine-wrapper" style="display:block;"><div id="valine"></div></div></main><!--]--><div class="page-catalog-container"><h5 class="tip">目录</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#快速上手" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="快速上手"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->快速上手<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#主应用" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="主应用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主应用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#vue2-webpack-子应用" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Vue2 + Webpack 子应用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue2 + Webpack 子应用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#vue3-vite-子应用" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Vue3 + Vite 子应用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue3 + Vite 子应用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#react-子应用" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="React 子应用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React 子应用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#应用间通信" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="应用间通信"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->应用间通信<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#主应用向子应用发送数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="主应用向子应用发送数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主应用向子应用发送数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#子应用接收主应用发送的数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="子应用接收主应用发送的数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->子应用接收主应用发送的数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#子应用向主应用发送数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="子应用向主应用发送数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->子应用向主应用发送数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#主应用接收子应用发送的数据" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="主应用接收子应用发送的数据"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主应用接收子应用发送的数据<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#全局数据通信" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="全局数据通信"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->全局数据通信<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#关闭沙箱后的通信方式" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="关闭沙箱后的通信方式"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->关闭沙箱后的通信方式<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#常见问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="常见问题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常见问题<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#webpack-public-path-无效-静态资源路径错误。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="__webpack_public_path__ 无效，静态资源路径错误。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->__webpack_public_path__ 无效，静态资源路径错误。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#typescript-cannot-find-name-webpack-public-path-。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="TypeScript cannot find name __webpack_public_path__。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript cannot find name __webpack_public_path__。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#react18-子应用首次进入展示空白-再次进入正常。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="React18 子应用首次进入展示空白，再次进入正常。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React18 子应用首次进入展示空白，再次进入正常。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#configuration-output-has-an-unknown-property-jsonpfunction" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="configuration.output has an unknown property &#39;jsonpFunction&#39;."><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->configuration.output has an unknown property &#39;jsonpFunction&#39;.<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/FrontEnd/weiqianduan（micro-app）shiyongshouce.html#子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->子应用内部路由跳转后无法切换到主应用或其他子应用且路由栈异常。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-dc8eb989.js" defer></script>
  </body>
</html>
